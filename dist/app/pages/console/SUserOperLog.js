define(function(e,l){l.ready=function(e,l,r){yufp.lookup.reg("Oper_Type,Log_level"),yufp.custom.vue({el:r.el,data:function(){var r=this;return{dataUrl:backend.consoleService+"/api/user/oper/logs",baseParams:{},queryFields:[{placeholder:"用户账户",field:"userId",type:"input"},{placeholder:"机构",field:"userOrgCode",type:"input"},{placeholder:"操作类型",field:"operType",type:"select",dataCode:"Oper_Type"},{placeholder:"日志时间",field:"createTime2e",type:"daterange",value:[]},{placeholder:"日志等级",field:"logLevel",type:"select",dataCode:"Log_level"}],queryButtons:[{label:"查询",op:"submit",type:"primary",icon:"search",click:function(e,l){l&&(0<e.createTime2e.length&&(e.createTimeBegin=e.createTime2e[0],e.createTimeEnd=e.createTime2e[1]),r.$refs.reftable.remoteData(e))}},{label:"重置",op:"reset",type:"primary",icon:"yx-loop2"}],tableColumns:[{label:"主键",prop:"id",sortable:!0,resizable:!0,hidden:!0},{label:"用户账户",prop:"userId",sortable:!0,resizable:!0},{label:"用户名称",prop:"userName",sortable:!0,resizable:!0},{label:"归属机构",prop:"userOrgCode",sortable:!0,resizable:!0,hidden:!0},{label:"操作类型",prop:"operType",sortable:!0,resizable:!0,dataCode:"Oper_Type"},{label:"Url",prop:"operPageUrl",sortable:!0,resizable:!0},{label:"页面名称",prop:"operPageName",sortable:!0,resizable:!0},{label:"操作详情",prop:"operInfo",sortable:!0,resizable:!0,hidden:!0},{label:"用户ip地址",prop:"userIpAddr",sortable:!0,resizable:!0,hidden:!0},{label:"日志等级",prop:"logLevel",sortable:!0,resizable:!0,dataCode:"Log_level"},{label:"记录时间",prop:"createTime",sortable:!0,resizable:!0}],updateFields:[{columnCount:3,fields:[{field:"id",label:"主键",hidden:!0},{field:"userId",label:"用户账户"},{field:"userName",label:"用户名称"},{field:"userOrgCode",label:"归属机构"},{field:"operType",label:"操作类型",type:"select",dataCode:"Oper_Type"},{field:"operPageUrl",label:"Url"},{field:"operPageName",label:"页面名称"},{field:"userIpAddr",label:"用户ip地址"},{field:"logLevel",label:"日志等级",type:"select",dataCode:"Log_level"},{field:"createTime",label:"记录时间"}]},{columnCount:1,fields:[{field:"operInfo",label:"操作详情",type:"textarea",rows:2}]}],updateButtons:[{label:"返回",type:"primary",icon:"yx-undo2",hidden:!1,click:function(e){r.dialogVisible=!1}}],height:yufp.frame.size().height-103,dialogVisible:!1,formDisabled:!1,viewType:"DETAIL",viewTitle:yufp.lookup.find("CRUD_TYPE",!1)}},methods:{checkPermission:function(e){return!yufp.session.checkCtrl(e,r.menuId)},switchStatus:function(e,l){var r=this;r.viewType=e,r.formDisabled=!l,r.dialogVisible=!0},infoFn:function(){if(1==this.$refs.reftable.selections.length){var e=this;e.switchStatus("DETAIL",!1);var l=e.$refs.reftable.selections[0];e.$nextTick(function(){yufp.extend(this.$refs.reform.formModel,l)})}else this.$message({message:"请先选择一条记录",type:"warning"})}}})},l.onmessage=function(e,l){},l.destroy=function(e,l){}});